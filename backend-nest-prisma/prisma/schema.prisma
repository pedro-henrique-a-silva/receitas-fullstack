// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id              Int               @id @default(autoincrement())
  name            String            @db.VarChar(100)
  username        String            @db.VarChar(100)
  password        String            @db.VarChar(100)
  FavoriteRecipes FavoriteRecipes[]
  DoneRecipes     DoneRecipes[]

  @@map("users")
}

model Categorie {
  id           Int      @id @default(autoincrement())
  categoryName String   @map("caregory_name") @db.VarChar(100)
  categoryType String   @map("caregory_type") @db.VarChar(100)
  Recipe       Recipe[]

  @@map("categories")
}

model Recipe {
  id              Int               @id @default(autoincrement())
  strName         String
  category        Categorie         @relation(fields: [categorieId], references: [id])
  categorieId     Int
  recipeType      String
  strAlcoholic    String?
  strGlass        String?
  strArea         String?
  strInstructions String            @db.Text
  strThumb        String
  strTags         String?
  strYoutube      String?
  strIngredient1  String?           @map("str_ingredient1")
  strIngredient2  String?           @map("str_ingredient2")
  strIngredient3  String?           @map("str_ingredient3")
  strIngredient4  String?           @map("str_ingredient4")
  strIngredient5  String?           @map("str_ingredient5")
  strIngredient6  String?           @map("str_ingredient6")
  strIngredient7  String?           @map("str_ingredient7")
  strIngredient8  String?           @map("str_ingredient8")
  strIngredient9  String?           @map("str_ingredient9")
  strIngredient10 String?           @map("str_ingredient10")
  strIngredient11 String?           @map("str_ingredient11")
  strIngredient12 String?           @map("str_ingredient12")
  strIngredient13 String?           @map("str_ingredient13")
  strIngredient14 String?           @map("str_ingredient14")
  strIngredient15 String?           @map("str_ingredient15")
  strIngredient16 String?           @map("str_ingredient16")
  strIngredient17 String?           @map("str_ingredient17")
  strIngredient18 String?           @map("str_ingredient18")
  strIngredient19 String?           @map("str_ingredient19")
  strIngredient20 String?           @map("str_ingredient20")
  strMeasure1     String?           @map("str_measure1")
  strMeasure2     String?           @map("str_measure2")
  strMeasure3     String?           @map("str_measure3")
  strMeasure4     String?           @map("str_measure4")
  strMeasure5     String?           @map("str_measure5")
  strMeasure6     String?           @map("str_measure6")
  strMeasure7     String?           @map("str_measure7")
  strMeasure8     String?           @map("str_measure8")
  strMeasure9     String?           @map("str_measure9")
  strMeasure10    String?           @map("str_measure10")
  strMeasure11    String?           @map("str_measure11")
  strMeasure12    String?           @map("str_measure12")
  strMeasure13    String?           @map("str_measure13")
  strMeasure14    String?           @map("str_measure14")
  strMeasure15    String?           @map("str_measure15")
  strMeasure16    String?           @map("str_measure16")
  strMeasure17    String?           @map("str_measure17")
  strMeasure18    String?           @map("str_measure18")
  strMeasure19    String?           @map("str_measure19")
  strMeasure20    String?           @map("str_measure20")
  FavoriteRecipes FavoriteRecipes[]
  DoneRecipes     DoneRecipes[]

  @@map("recipes")
}

model FavoriteRecipes {
  user     User   @relation(fields: [userId], references: [id])
  recipe   Recipe @relation(fields: [recipeId], references: [id])
  userId   Int    @map("user_id")
  recipeId Int    @map("recipe_id")

  @@id([userId, recipeId])
  @@map("favorite")
}

model DoneRecipes {
  user     User   @relation(fields: [userId], references: [id])
  recipe   Recipe @relation(fields: [recipeId], references: [id])
  userId   Int    @map("user_id")
  recipeId Int    @map("recipe_id")

  @@id([userId, recipeId])
  @@map("dones")
}
